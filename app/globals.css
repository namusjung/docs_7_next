@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --primary: 222.2 47.4% 11.2%;
  --secondary: 210 40% 96.1%;
  --accent: 210 40% 96.1%;
  --muted: 210 40% 96.1%;
  --border: 214.3 31.8% 91.4%;
}

.dark {
  --primary: 210 40% 98%;
  --secondary: 217.2 32.6% 17.5%;
  --muted: 217.2 32.6% 17.5%;
  --border: 217.2 32.6% 17.5%;
}

html,
body,
:root {
  height: 100%;
}

body {
  @apply bg-neutral-50 dark:bg-neutral-800/60 text-foreground antialiased;
  font-feature-settings: "rlig" 1, "calt" 1;
}

.gradient-text {
  @apply bg-clip-text text-transparent;
  background-image: linear-gradient(
    90deg,
    hsl(var(--primary)) 0%,
    #5b7cfa 50%,
    #66e2ff 100%
  );
}

.glass {
  @apply bg-white/60 dark:bg-black/30 backdrop-blur-md border border-white/20 dark:border-white/10;
}

.prose img {
  @apply rounded-lg shadow-sm;
}

.doc-grid {
  background-image: linear-gradient(to right, rgba(120, 120, 120, 0.12) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(120, 120, 120, 0.12) 1px, transparent 1px);
  background-size: 24px 24px;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-primary;
  }
  p,a,ul,li,td {
    @apply !font-secondary !text-neutral-700 dark:!text-neutral-400;
  }
  button {
    @apply font-secondary font-bold;
  }
}

@layer components {
  .prose {
    @apply text-gray-800 dark:text-gray-300 max-w-none text-[16px];
  }
  
  .prose h1 {
    @apply text-4xl font-bold text-foreground mb-8 mt-0 pb-6;
    line-height: 1.2;
  }
  
  .prose h2 {
    @apply text-2xl font-normal text-foreground mt-12 mb-2 pb-3;
    line-height: 1.3;
  }
  
  .prose h3 {
    @apply text-xl font-normal text-foreground mt-8 mb-8 font-primary;
    line-height: 1.4;
  }
  
  .prose h4 {
    @apply text-lg font-normal text-foreground mt-0 mb-3;
    line-height: 1.4;
  }
  
  .prose h5 {
    @apply text-base font-semibold text-foreground mt-4 mb-2;
    line-height: 1.5;
  }
  
  .prose h6 {
    @apply text-sm font-semibold text-foreground mt-4 mb-2;
    line-height: 1.5;
  }
  
  .prose p {
    @apply text-foreground leading-relaxed mb-6 text-sm;
  }
  
  .prose a {
    @apply !text-primary hover:!text-primary/80 dark:hover:!text-white underline underline-offset-[6px] transition-colors;
  }
  
  .prose strong {
    @apply font-semibold text-foreground;
  }
  
  .prose em {
    @apply italic text-foreground;
  }
  
  .prose code {
    @apply bg-muted text-foreground px-2 py-[1px] rounded-md text-[11px] font-mono border;
  }
  
  .prose pre {
    @apply !bg-[#f9f9f9] dark:!bg-slate-700/50 text-foreground p-6 rounded-none overflow-x-auto mb-0;
  }
  
  .prose pre code {
    @apply bg-transparent p-0 border-0;
  }
  
  .prose blockquote {
    @apply border-l-4 border-primary pl-6 italic text-muted-foreground my-6 bg-muted/30 py-4 pr-4 rounded-r-lg;
  }
  
  .prose ul {
    @apply list-none mb-6 space-y-2;
  }
  
  .prose ul li {
    @apply relative pl-6 text-foreground leading-relaxed text-sm;
  }
  
  .prose ul li::before {
    @apply absolute left-0 top-[-1px] w-2 h-2 text-neutral-400/70 ;
    content: 'â€”';
  }
  
  .prose ol {
    @apply list-none mb-6 space-y-2;
    counter-reset: item;
  }
  
  .prose ol li {
    @apply relative pl-8 text-foreground leading-relaxed text-sm;
    counter-increment: item;
  }
  
  .prose ol li::before {
    @apply absolute left-0 top-0 w-5 h-5 bg-none text-primary rounded-md flex items-center justify-center text-xs font-medium border-primary border opacity-50;
    content: counter(item);
  }
  
  .prose hr {
    @apply border-border my-8;
  }
  
  .prose table {
    @apply w-full border-collapse border border-border rounded-lg overflow-hidden mb-6 bg-transparent;
  }
  
  .prose th {
    @apply bg-gray-100 dark:bg-neutral-700 text-foreground font-semibold text-left p-2 border-b border-border text-sm px-4;
  }
  
  .prose td {
    @apply text-foreground p-2 py-4 px-4 border-b border-border text-[13px];
  }
  
  .prose tr:last-child td {
    @apply border-b-0;
  }
  
  .prose tr:hover {
    @apply bg-muted/25;
  }
  
  .markdoc-content {
    @apply max-w-none;
  }

  .leading-relaxed p{
    @apply text-xs mb-0 text-gray-500 dark:text-gray-100;
  }

  /* non prose styles */
  .no-prose h2,
  .no-prose h3{
    @apply mt-0;
  }

  /* overwrite no proses as per sections */
  .no-prose.no-prose-integration h3 {
    @apply my-2 font-semibold tracking-tight text-foreground text-base group-hover:underline underline-offset-4;
  }
  .no-prose.no-prose-integration h2 {
  @apply text-2xl font-semibold text-foreground mb-4;
  }
}

/* Custom scrollbar for TOC */
.prose ::-webkit-scrollbar {
  @apply w-2;
}

.prose ::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.prose ::-webkit-scrollbar-thumb {
  @apply bg-border rounded-full;
}

.prose ::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground;
}

.collapsible-callout table{
@apply mt-6 bg-transparent;
}

.collapsible-callout table tr td{
@apply mt-6 dark:border-white/10;
}

.collapsible-callout table th{
@apply bg-slate-600 text-gray-100 dark:bg-gray-100 dark:text-gray-600;
}

.collapsible-callout code{
@apply bg-black/10 border-black/5 text-black/60 dark:bg-white/10 dark:border-white/5 dark:text-white/60
}

